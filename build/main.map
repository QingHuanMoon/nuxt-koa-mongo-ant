{"version":3,"sources":["webpack:///webpack/bootstrap 2af8ae2ed2e39cf86d9b","webpack:///external \"mongoose\"","webpack:///external \"koa-router\"","webpack:///./server/index.js","webpack:///external \"koa\"","webpack:///external \"koa-body\"","webpack:///external \"nuxt\"","webpack:///./server/bootstrap.js","webpack:///./server/provider \\.js$","webpack:///./server/provider/db.js","webpack:///./public/config/index.js","webpack:///./server/router \\.js$","webpack:///./server/router/index.js","webpack:///./server/router/user.js","webpack:///./server/controller/UserController.js","webpack:///./server/service/UserService.js","webpack:///./server/repository/UserRepo.js","webpack:///./server/model/userSchema.js","webpack:///./utils/tools.js","webpack:///./utils/log4.js","webpack:///external \"log4js\"","webpack:///./nuxt.config.js"],"names":["start","app","Koa","host","process","env","HOST","port","PORT","config","require","dev","nuxt","Nuxt","builder","Builder","build","use","koaBody","BootStrap","RouterRegister","ctx","status","respond","req","render","res","listen","console","log","ProviderRegister","requireComponent","keys","forEach","fileName","componentConfig","default","boot","routes","allowedMethods","Db","mongoose","connect","dbURL","useNewUrlParser","useUnifiedTopology","db","connection","on","EnvConfig","development","baseApi","mockApi","test","production","mock","namespace","router","Router","prefix","get","next","title","body","post","UserController","login","params","request","UserService","loginByEmailAndPassword","tools","success","fail","UserRepo","findUser","userSchema","findOne","UserSchema","Schema","userId","type","Number","userName","String","password","email","mobile","sex","deptId","job","state","role","createdTime","Date","now","lastLoginTime","remark","model","CODE","SUCCESS","PARAM_ERROR","USER_ACCOUNT_ERROR","USER_LOGIN_ERROR","BUSSINESS_ERROR","AUTH_ERROR","paper","pageNumber","pageSize","skipIndex","page","msg","data","code","log4js","info","levels","TRACE","DEBUG","INFO","WARN","ERROR","FATAL","configure","appenders","filename","error","pattern","alwaysIncludePattern","categories","level","debug","content","logger","getLogger","module","exports","telemetry","head","meta","charset","name","hid","link","rel","href","css","loading","color","plugins","src","ssr","extend","Client","rules","push","enforce","loader","exclude"],"mappings":";;;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;QAEA;QACA;;;;;;;AC7DA,qC;;;;;;ACAA,uC;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAGA,eAAeA,KAAf,GAAwB;AACtB,QAAMC,MAAM,IAAIC,2CAAJ,EAAZ;AACA,QAAMC,OAAOC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,WAAjC;AACA,QAAMC,OAAOH,QAAQC,GAAR,CAAYG,IAAZ,IAAoB,IAAjC;;AAEA;AACA,QAAMC,SAASC,mBAAOA,CAAC,EAAR,CAAf;AACAD,SAAOE,GAAP,GAAa,EAAEV,IAAII,GAAJ,KAAY,YAAd,CAAb;;AAEA;AACA,QAAMO,OAAO,IAAIC,0CAAJ,CAASJ,MAAT,CAAb;;AAEA;AACA,MAAIA,OAAOE,GAAX,EAAgB;AACd,UAAMG,UAAU,IAAIC,6CAAJ,CAAYH,IAAZ,CAAhB;AACA,UAAME,QAAQE,KAAR,EAAN;AACD;;AAEDf,MAAIgB,GAAJ,CAAQC,gDAAOA,EAAf;;AAEA;AACAC,6DAASA,CAACC,cAAV,CAAyBnB,GAAzB;;AAGAA,MAAIgB,GAAJ,CAAQI,OAAO;AACbA,QAAIC,MAAJ,GAAa,GAAb;AACAD,QAAIE,OAAJ,GAAc,KAAd,CAFa,CAEO;AACpBF,QAAIG,GAAJ,CAAQH,GAAR,GAAcA,GAAd,CAHa,CAGK;AAClBT,SAAKa,MAAL,CAAYJ,IAAIG,GAAhB,EAAqBH,IAAIK,GAAzB;AACD,GALD;;AAQAzB,MAAI0B,MAAJ,CAAWpB,IAAX,EAAiBJ,IAAjB;;AAGAyB,UAAQC,GAAR,CAAY,oBAAoB1B,IAApB,GAA2B,GAA3B,GAAiCI,IAA7C,EAnCsB,CAmC6B;;AAEnDY,6DAASA,CAACW,gBAAV;AAED;;AAED9B,Q;;;;;;AC/CA,gC;;;;;;ACAA,qC;;;;;;ACAA,iC;;;;;;;ACAA,MAAMmB,SAAN,CACA;AACE;AACA,SAAOW,gBAAP,GACA;AACE,UAAMC,mBAAmBrB,sBAAzB;AACEqB,qBAAiBC,IAAjB,GAAwBC,OAAxB,CAAiCC,QAAD,IAAc;AAC5C,YAAMC,kBAAkBJ,iBAAiBG,QAAjB,CAAxB;AACAC,sBAAgBC,OAAhB,CAAwBC,IAAxB;AACD,KAHD;AAIH;;AAED;AACA,SAAOjB,cAAP,CAAsBnB,GAAtB,EACA;AACE,UAAM8B,mBAAmBrB,uBAAzB;AACAqB,qBAAiBC,IAAjB,GAAwBC,OAAxB,CAAiCC,QAAD,IAAc;AAC5C,YAAMC,kBAAkBJ,iBAAiBG,QAAjB,CAAxB;AACAjC,UAAIgB,GAAJ,CAAQkB,gBAAgBC,OAAhB,CAAwBE,MAAxB,EAAR,EAA0CH,gBAAgBC,OAAhB,CAAwBG,cAAxB,EAA1C;AACD,KAHD;AAID;AAnBH;;AAsBepB,kEAAf,E;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sB;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,MAAMqB,EAAN,CACA;AACE,SAAOH,IAAP,GACA;AACEI,oDAAQA,CAACC,OAAT,CAAiBjC,+DAAMA,CAACkC,KAAxB,EAA+B;AAC7BC,uBAAiB,IADY;AAE7BC,0BAAoB;AAFS,KAA/B;AAKA,UAAMC,KAAKL,gDAAQA,CAACM,UAApB;;AAEAD,OAAGE,EAAH,CAAM,OAAN,EAAe,MAAM;AACnBpB,cAAQC,GAAR,CAAY,WAAZ;AACD,KAFD;;AAIAiB,OAAGE,EAAH,CAAM,MAAN,EAAc,MAAM;AAClBpB,cAAQC,GAAR,CAAY,WAAZ;AACD,KAFD;AAGD;AAjBH;;AAoBeW,iEAAf,E;;;;;;;;ACtBA,MAAMnC,MAAMD,aAAA,IAAwB,YAApC;AACA,MAAM6C,YAAY;AACdC,iBAAa;AACTC,iBAAS,MADA;AAETC,iBAAS,qEAFA;AAGTT,eAAO;AAHE,KADC;AAMdU,UAAM;AACFF,iBAAS,qBADP;AAEFC,iBAAS,qEAFP;AAGFT,eAAO;AAHL,KANQ;AAWdW,gBAAY;AACRH,iBAAS,qBADD;AAERC,iBAAS,EAFD;AAGRT,eAAO;AAHC;AAXE,CAAlB;AAiBe;AACXtC,OADJ;AAEIkD,UAAM,KAFV;AAGIC,eAAW;AAHf,GAIOP,UAAU5C,GAAV,CAJP,G;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uB;;;;;;;AClBA;AAAA;AAAA;AAAA;;AAEA,MAAMoD,SAAS,IAAIC,kDAAJ,EAAf;;AAEAD,OAAOE,MAAP,CAAc,MAAd;;AAEAF,OAAOG,GAAP,CAAW,GAAX,EAAgB,OAAOvC,GAAP,EAAYwC,IAAZ,KAAqB;AACnC,QAAMxC,IAAII,MAAJ,CAAW,OAAX,EAAoB;AACxBqC,WAAO;AADiB,GAApB,CAAN;AAGD,CAJD;;AAMAL,OAAOG,GAAP,CAAW,QAAX,EAAqB,OAAOvC,GAAP,EAAYwC,IAAZ,KAAqB;AACxCxC,MAAI0C,IAAJ,GAAW;AACTD,WAAO;AADE,GAAX;AAGD,CAJD;;AAMAL,OAAOG,GAAP,CAAW,OAAX,EAAoB,OAAOvC,GAAP,EAAYwC,IAAZ,KAAqB;AACvCxC,MAAI0C,IAAJ,GAAW;AACTD,WAAO;AADE,GAAX;AAGD,CAJD;;AAMeL,qEAAf,E;;;;;;;ACxBA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,MAAMA,SAAS,IAAIC,kDAAJ,EAAf;;AAEAD,OAAOE,MAAP,CAAc,YAAd;;AAGAF,OAAOO,IAAP,CAAY,QAAZ,EAAuBC,2EAAcA,CAACC,KAAtC;;AAEeT,qEAAf,E;;;;;;;ACVA;AAAA;AAAA;AACA;AACA,MAAMQ,cAAN,CACA;AACE,eAAaC,KAAb,CAAmB7C,GAAnB,EAAwBwC,IAAxB,EAA8B;AAC5B,QAAIM,SAAS9C,IAAI+C,OAAJ,CAAYL,IAAzB;AACA,QAAIrC,MAAM,MAAM2C,qEAAWA,CAACC,uBAAZ,CAAoCH,MAApC,CAAhB;AACA,QAAIzC,GAAJ,EAAS;AACPL,UAAI0C,IAAJ,GAAWQ,6DAAKA,CAACC,OAAN,CAAc,MAAd,CAAX;AACD,KAFD,MAEO;AACLnD,UAAI0C,IAAJ,GAAWQ,6DAAKA,CAACE,IAAN,CAAW,MAAX,CAAX;AACD;AACF;AATH;;AAYeR,uEAAf,E;;;;;;;ACfA;AAAA;;AAEA,MAAMI,WAAN,CACA;AACE,eAAaC,uBAAb,CAAqCH,MAArC,EACA;AACE,WAAO,MAAMO,qEAAQA,CAACC,QAAT,CAAkBR,MAAlB,CAAb;AACD;AAJH;;AAOeE,oEAAf,E;;;;;;;ACVA;AAAA;AACA,MAAMK,QAAN,CACA;AACE,eAAaC,QAAb,CAAsBR,MAAtB,EACA;AACE,QAAIzC,MAAM,MAAMkD,kEAAUA,CAACC,OAAX,CAAmBV,MAAnB,CAAhB;AACA,WAAO,CAAC,CAACzC,GAAT;AACD;AALH;;AASegD,iEAAf,E;;;;;;;ACXA;AAAA;AAAA;;AAEA,MAAMI,aAAarC,gDAAQA,CAACsC,MAAT,CAAgB;AACjCC,UAAQ;AACNC,UAAMC;AADA,GADyB;AAIjCC,YAAU;AACRF,UAAMG;AADE,GAJuB;AAOjCC,YAAU;AACRJ,UAAMG;AADE,GAPuB;AAUjCE,SAAO;AACLL,UAAMG;AADD,GAV0B;AAajCG,UAAQ;AACNN,UAAMG;AADA,GAbyB;AAgBjCI,OAAK;AACHP,UAAMC;AADH,GAhB4B;AAmBjCO,UAAQ,EAnByB;AAoBjCC,OAAKN,MApB4B;AAqBjCO,SAAO;AACLV,UAAMC,MADD;AAEL9C,aAAS;AAFJ,GArB0B;AAyBjCwD,QAAM;AACJX,UAAMC,MADF;AAEJ9C,aAAS;AAFL,GAzB2B;AA6BjCyD,eAAa;AACXZ,UAAMa,IADK;AAEX1D,aAAS0D,KAAKC,GAAL;AAFE,GA7BoB;AAiCjCC,iBAAe;AACbf,UAAMa,IADO;AAEb1D,aAAS0D,KAAKC,GAAL;AAFI,GAjCkB;AAqCjCE,UAAQb;AArCyB,CAAhB,CAAnB;;AAwCe3C,yGAAQA,CAACyD,KAAT,CAAe,OAAf,EAAwBpB,UAAxB,EAAoC,OAApC,CAAf,E;;;;;;;AC1CA;AAAA;AACA,MAAMqB,OAAO;AACXC,WAAS,GADE;AAEXC,eAAa,KAFF;AAGXC,sBAAoB,KAHT;AAIXC,oBAAkB,KAJP;AAKXC,mBAAiB,KALN;AAMXC,cAAY;AAND,CAAb;;AASA,MAAMC,QAAQ,CAACC,aAAa,CAAd,EAAiBC,WAAW,EAA5B,KAAmC;AAC/CD,gBAAc,CAAd;AACAC,cAAY,CAAZ;AACA,QAAMC,YAAY,CAACF,aAAa,CAAd,IAAmBC,QAArC;AACA,SAAO;AACLE,UAAM;AACJH,gBADI;AAEJC;AAFI,KADD;AAKLC;AALK,GAAP;AAOD,CAXD;;AAaA,MAAMrC,UAAU,CAACuC,MAAM,EAAP,EAAWC,OAAO,EAAlB,EAAsBC,OAAOd,KAAKC,OAAlC,KAA8C;AAC5Dc,8DAAMA,CAACC,IAAP,CAAYH,IAAZ;AACA,SAAO;AACLC,QADK,EACCD,IADD,EACOD;AADP,GAAP;AAGD,CALD;;AAOA,MAAMtC,OAAO,CAACsC,MAAM,EAAP,EAAWC,OAAO,EAAlB,EAAsBC,OAAOd,KAAKK,eAAlC,KAAsD;AACjEU,8DAAMA,CAACC,IAAP,CAAYJ,GAAZ;AACA,SAAO;AACLE,QADK,EACCD,IADD,EACOD;AADP,GAAP;AAGD,CALD;;AAOe;AACbL,OADa,EACNlC,OADM,EACGC;AADH,CAAf,E;;;;;;;ACrCA;AAAA;AAAA;;;AAGA;;AAEA,MAAM2C,SAAS;AACX,aAASF,8CAAMA,CAACE,MAAP,CAAcC,KADZ;AAEX,aAASH,8CAAMA,CAACE,MAAP,CAAcE,KAFZ;AAGX,YAAQJ,8CAAMA,CAACE,MAAP,CAAcG,IAHX;AAIX,YAAQL,8CAAMA,CAACE,MAAP,CAAcI,IAJX;AAKX,aAASN,8CAAMA,CAACE,MAAP,CAAcK,KALZ;AAMX,aAASP,8CAAMA,CAACE,MAAP,CAAcM;AANZ,CAAf;;AASAR,8CAAMA,CAACS,SAAP,CAAiB;AACbC,eAAW;AACPhG,iBAAS,EAAEqD,MAAM,SAAR,EADF;AAEPkC,cAAM,EAAElC,MAAM,MAAR,EAAgB4C,UAAU,mBAA1B,EAFC;AAGPC,eAAO;AACH7C,kBAAM,UADH;AAEH4C,sBAAU,UAFP;AAGHE,qBAAS,gBAHN;AAIHC,kCAAsB;AAJnB;AAHA,KADE;AAWbC,gBAAY;AACR7F,iBAAS,EAAEwF,WAAW,CAAC,SAAD,CAAb,EAA0BM,OAAO,OAAjC,EADD;AAERJ,eAAO;AACHF,uBAAW,CAAC,SAAD,CADR,EACqBM,OAAO;AAD5B;AAFC;AAXC,CAAjB;;AAoBA;;;;AAIA,MAAMC,QAASC,OAAD,IAAa;AACvB,QAAIC,SAASnB,8CAAMA,CAACoB,SAAP,EAAb;AACAD,WAAOH,KAAP,GAAed,OAAOe,KAAtB;AACAE,WAAOF,KAAP,CAAaC,OAAb;AACH,CAJD;;AAMA;;;;AAIA,MAAMN,QAASM,OAAD,IAAa;AACvB,QAAIC,SAASnB,8CAAMA,CAACoB,SAAP,EAAb;AACAD,WAAOH,KAAP,GAAed,OAAOU,KAAtB;AACAO,WAAOP,KAAP,CAAaM,OAAb;AACH,CAJD;;AAMA;;;;AAIA,MAAMjB,OAAQiB,OAAD,IAAa;AACtB,QAAIC,SAASnB,8CAAMA,CAACoB,SAAP,EAAb;AACAD,WAAOH,KAAP,GAAed,OAAOD,IAAtB;AACAkB,WAAOlB,IAAP,CAAYiB,OAAZ;AACH,CAJD;;AAMe;AACbD,SADa,EACNL,KADM,EACCX;AADD,CAAf,E;;;;;;AChEA,mC;;;;;;ACAAoB,OAAOC,OAAP,GAAiB;AACfC,aAAW,KADI;AAEf;;;AAGAC,QAAM;AACJ5E,WAAO,SADH;AAEJ6E,UAAM,CACJ,EAAEC,SAAS,OAAX,EADI,EAEJ,EAAEC,MAAM,UAAR,EAAoBT,SAAS,qCAA7B,EAFI,EAGJ,EAAEU,KAAK,aAAP,EAAsBD,MAAM,aAA5B,EAA2CT,SAAS,iBAApD,EAHI,CAFF;AAOJW,UAAM,CACJ,EAAEC,KAAK,MAAP,EAAe/D,MAAM,cAArB,EAAqCgE,MAAM,cAA3C,EADI;AAPF,GALS;AAgBf;;;AAGAC,OAAK,CAAC,sBAAD,CAnBU;AAoBf;;;AAGAC,WAAS,EAAEC,OAAO,SAAT,EAvBM;AAwBf;;;AAGAC,WAAS,CACP,kBADO,EAEP,qBAFO,EAGP,sBAHO,EAIP,EAACC,KAAK,yBAAN,EAAiCC,KAAI,KAArC,EAJO,EAKP,EAACD,KAAK,oBAAN,EAA4BC,KAAK,KAAjC,EALO,CA3BM;;AAoCfvI,SAAO;AACL;;;AAGAwI,WAAQ/I,MAAR,EAAgBY,GAAhB,EAAqB;AACnB,UAAIA,IAAIoI,MAAR,EAAgB;AACdhJ,eAAO8H,MAAP,CAAcmB,KAAd,CAAoBC,IAApB,CAAyB;AACvBC,mBAAS,KADc;AAEvBvG,gBAAM,aAFiB;AAGvBwG,kBAAQ,eAHe;AAIvBC,mBAAS;AAJc,SAAzB;AAMD;AACF;AAbI;AApCQ,CAAjB,C","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2af8ae2ed2e39cf86d9b","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"koa-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-router\"\n// module id = 1\n// module chunks = 0","import Koa from 'koa'\nimport koaBody from 'koa-body';\nimport { Nuxt, Builder } from 'nuxt'\nimport BootStrap from './bootstrap';\n\n\nasync function start () {\n  const app = new Koa()\n  const host = process.env.HOST || '127.0.0.1'\n  const port = process.env.PORT || 3000\n\n  // Import and Set Nuxt.js options\n  const config = require('../nuxt.config.js')\n  config.dev = !(app.env === 'production')\n\n  // Instantiate nuxt.js\n  const nuxt = new Nuxt(config)\n\n  // Build in development\n  if (config.dev) {\n    const builder = new Builder(nuxt)\n    await builder.build()\n  }\n\n  app.use(koaBody())\n\n  // 路由\n  BootStrap.RouterRegister(app)\n\n\n  app.use(ctx => {\n    ctx.status = 200\n    ctx.respond = false // Mark request as handled for Koa\n    ctx.req.ctx = ctx // This might be useful later on, e.g. in nuxtServerInit or with nuxt-stash\n    nuxt.render(ctx.req, ctx.res)\n  })\n\n\n  app.listen(port, host)\n\n\n  console.log('服务器启动成功,请点击访问->' + host + ':' + port) // eslint-disable-line no-console\n\n  BootStrap.ProviderRegister()\n\n}\n\nstart()\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","module.exports = require(\"koa\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"koa-body\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-body\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 5\n// module chunks = 0","class BootStrap\n{\n  // 服务自动注册\n  static ProviderRegister()\n  {\n    const requireComponent = require.context('./provider', true, /\\.js$/)\n      requireComponent.keys().forEach((fileName) => {\n        const componentConfig = requireComponent(fileName)\n        componentConfig.default.boot()\n      })\n  }\n\n  // 路由自动注册\n  static RouterRegister(app)\n  {\n    const requireComponent = require.context('./router', true, /\\.js$/)\n    requireComponent.keys().forEach((fileName) => {\n      const componentConfig = requireComponent(fileName)\n      app.use(componentConfig.default.routes(), componentConfig.default.allowedMethods())\n    })\n  }\n}\n\nexport default BootStrap\n\n\n\n// WEBPACK FOOTER //\n// ./server/bootstrap.js","var map = {\n\t\"./db.js\": 8\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 7;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/provider \\.js$\n// module id = 7\n// module chunks = 0","import mongoose from 'mongoose'\nimport config from '../../public/config'\nclass Db\n{\n  static boot()\n  {\n    mongoose.connect(config.dbURL, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    }\n    )\n    const db = mongoose.connection\n\n    db.on('error', () => {\n      console.log('数据库服务注册失败')\n    })\n\n    db.on('open', () => {\n      console.log('数据库服务注册成功')\n    })\n  }\n}\n\nexport default Db\n\n\n\n// WEBPACK FOOTER //\n// ./server/provider/db.js","\nconst env = process.env.NODE_ENV || 'production'\nconst EnvConfig = {\n    development: {\n        baseApi: '/api',\n        mockApi: 'https://www.fastmock.site/mock/7ea61bf9aaadb56d4a3bf48c47c91e76/api',\n        dbURL: 'mongodb://127.0.0.1:27017/nuxt'\n    },\n    test: {\n        baseApi: '//test.vite.app/api',\n        mockApi: 'https://www.fastmock.site/mock/7ea61bf9aaadb56d4a3bf48c47c91e76/api',\n        dbURL: 'mongodb://127.0.0.1:27017/nuxt'\n    },\n    production: {\n        baseApi: '//prod.vite.app/api',\n        mockApi: '',\n        dbURL: 'mongodb://127.0.0.1:27017/nuxt'\n    }\n}\nexport default {\n    env,\n    mock: false,\n    namespace: 'vite',\n    ...EnvConfig[env]\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./public/config/index.js","var map = {\n\t\"./index.js\": 11,\n\t\"./user.js\": 12\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 10;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/router \\.js$\n// module id = 10\n// module chunks = 0","import Router from 'koa-router'\n\nconst router = new Router()\n\nrouter.prefix('/api')\n\nrouter.get('/', async (ctx, next) => {\n  await ctx.render('index', {\n    title: 'Hello Koa 2!'\n  })\n})\n\nrouter.get('/hello', async (ctx, next) => {\n  ctx.body = {\n    title: 'koa2 json'\n  }\n})\n\nrouter.get('/json', async (ctx, next) => {\n  ctx.body = {\n    title: 'koa2 json'\n  }\n})\n\nexport default router\n\n\n\n\n// WEBPACK FOOTER //\n// ./server/router/index.js","import Router from 'koa-router'\nimport UserController from '../controller/UserController'\n\nconst router = new Router()\n\nrouter.prefix('/api/users')\n\n\nrouter.post('/login',  UserController.login)\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/router/user.js","import UserService from \"../service/UserService\"\nimport tools from '../../utils/tools'\nclass UserController\n{\n  static async login(ctx, next) {\n    let params = ctx.request.body\n    let res = await UserService.loginByEmailAndPassword(params)\n    if (res) {\n      ctx.body = tools.success('登录成功')\n    } else {\n      ctx.body = tools.fail('登录失败')\n    }\n  }\n}\n\nexport default UserController\n\n\n\n// WEBPACK FOOTER //\n// ./server/controller/UserController.js","import UserRepo from \"../repository/UserRepo\";\n\nclass UserService\n{\n  static async loginByEmailAndPassword(params)\n  {\n    return await UserRepo.findUser(params)\n  }\n}\n\nexport default UserService\n\n\n\n// WEBPACK FOOTER //\n// ./server/service/UserService.js","import userSchema from \"../model/userSchema\";\nclass UserRepo\n{\n  static async findUser(params)\n  {\n    let res = await userSchema.findOne(params)\n    return !!res\n  }\n}\n\n\nexport default UserRepo\n\n\n\n// WEBPACK FOOTER //\n// ./server/repository/UserRepo.js","import mongoose from 'mongoose'\n\nconst UserSchema = mongoose.Schema({\n  userId: {\n    type: Number,\n  },\n  userName: {\n    type: String\n  },\n  password: {\n    type: String\n  },\n  email: {\n    type: String\n  },\n  mobile: {\n    type: String\n  },\n  sex: {\n    type: Number\n  },\n  deptId: [],\n  job: String,\n  state: {\n    type: Number,\n    default: 1,\n  },\n  role: {\n    type: Number,\n    default: 1\n  },\n  createdTime: {\n    type: Date,\n    default: Date.now()\n  },\n  lastLoginTime: {\n    type: Date,\n    default: Date.now()\n  },\n  remark: String\n})\n\nexport default mongoose.model('users', UserSchema, 'users')\n\n\n\n// WEBPACK FOOTER //\n// ./server/model/userSchema.js","import log4js from '../utils/log4';\nconst CODE = {\n  SUCCESS: 200,\n  PARAM_ERROR: 10001,\n  USER_ACCOUNT_ERROR: 20001,\n  USER_LOGIN_ERROR: 30001,\n  BUSSINESS_ERROR: 40001,\n  AUTH_ERROR: 50001,\n}\n\nconst paper = (pageNumber = 1, pageSize = 10) => {\n  pageNumber *= 1\n  pageSize *= 1\n  const skipIndex = (pageNumber - 1) * pageSize\n  return {\n    page: {\n      pageNumber,\n      pageSize\n    },\n    skipIndex\n  }\n}\n\nconst success = (msg = '', data = '', code = CODE.SUCCESS) => {\n  log4js.info(data)\n  return {\n    code, data, msg\n  }\n}\n\nconst fail = (msg = '', data = '', code = CODE.BUSSINESS_ERROR) => {\n  log4js.info(msg)\n  return {\n    code, data, msg\n  }\n}\n\nexport default {\n  paper, success, fail\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./utils/tools.js","/**\n * 日志存储\n */\nimport log4js from 'log4js'\n\nconst levels = {\n    'trace': log4js.levels.TRACE,\n    'debug': log4js.levels.DEBUG,\n    'info': log4js.levels.INFO,\n    'warn': log4js.levels.WARN,\n    'error': log4js.levels.ERROR,\n    'fatal': log4js.levels.FATAL\n}\n\nlog4js.configure({\n    appenders: {\n        console: { type: 'console' },\n        info: { type: 'file', filename: 'logs/all-logs.log' },\n        error: {\n            type: 'dataFile',\n            filename: 'logs/log',\n            pattern: 'yyyy-MM-dd.log',\n            alwaysIncludePattern: true,\n        }\n    },\n    categories: {\n        default: { appenders: ['console'], level: 'debug' },\n        error: {\n            appenders: ['console'], level: 'error'\n        }\n    }\n})\n\n\n/**\n * debug信息的日志输出,debug级别\n * @param {string} content\n */\nconst debug = (content) => {\n    let logger = log4js.getLogger()\n    logger.level = levels.debug\n    logger.debug(content)\n}\n\n/**\n * debug信息的日志输出,error级别\n * @param {string} content\n */\nconst error = (content) => {\n    let logger = log4js.getLogger()\n    logger.level = levels.error\n    logger.error(content)\n}\n\n/**\n * debug信息的日志输出,info级别\n * @param {string} content\n */\nconst info = (content) => {\n    let logger = log4js.getLogger()\n    logger.level = levels.info\n    logger.info(content)\n}\n\nexport default {\n  debug, error, info\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils/log4.js","module.exports = require(\"log4js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"log4js\"\n// module id = 19\n// module chunks = 0","module.exports = {\n  telemetry: false,\n  /*\n  ** Headers of the page\n  */\n  head: {\n    title: 'starter',\n    meta: [\n      { charset: 'utf-8' },\n      { name: 'viewport', content: 'width=device-width, initial-scale=1' },\n      { hid: 'description', name: 'description', content: 'Nuxt.js project' }\n    ],\n    link: [\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }\n    ]\n  },\n  /*\n  ** Global CSS\n  */\n  css: ['~assets/css/main.css'],\n  /*\n  ** Customize the progress-bar color\n  */\n  loading: { color: '#3B8070' },\n  /*\n   ** Build configuration\n   */\n  plugins: [\n    '~plugins/antd.js',\n    '~plugins/request.js',\n    '~plugins/autoload.js',\n    {src: '~plugins/form-create.js', ssr:false},\n    {src: '~plugins/lodash.js', ssr: false},\n\n  ],\n\n  build: {\n    /*\n     ** Run ESLINT on save\n     */\n    extend (config, ctx) {\n      if (ctx.Client) {\n        config.module.rules.push({\n          enforce: 'pre',\n          test: /\\.(js|vue)$/,\n          loader: 'eslint-loader',\n          exclude: /(node_modules)/\n        })\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js"],"sourceRoot":""}